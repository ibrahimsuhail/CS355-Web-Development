<!DOCTYPE html>
<html>

<head>
    <script >
        var index = 0;
        function create() {
            var tab = document.getElementById('tab');
            var width = document.getElementById("width").value;
            var height = document.getElementById("height").value;
            var i, j;
            for (i = 0; i < height; i++) {
                var row = document.createElement("tr");
                for (j = 0; j < width; j++) {
                    var cell = document.createElement("td");
                    index = i + j;
                    cell.id = index++;
                    if (cell.id % 2 == 0) {
                        cell.style.backgroundColor = "yellow";
                    }
                    else {
                        cell.style.backgroundColor = "red";
                    }
                    row.appendChild(cell);
                    if (cell.id % 3 == 0) {
                        cell.innerHTML = 'V';
                    }
                    cell.addEventListener("click", virusContain);
                    cell.addEventListener("click", virusSpread);
                }
                tab.appendChild(row);
            }
        }

        function virusContain() {
            cm = document.getElementById('cm');
            if (cm.checked) {
                this.innerHTML = ''; 
                cm.checked = "true";
            }
        }

        function virusSpread() {
            cm = document.getElementById('cm');
            if (!cm.checked && this.innerHTML == '') {
                this.innerHTML = '';
            }
            else if (!cm.checked && this.innerHTML == 'V'){
                this.innerHTML = 'V';
                this.nextSibling.innerHTML = 'V';
                this.previousSibling.innerHTML = 'V';
            }
        }
    </script>
    <style>
        td {
            width: 70px;
            height: 70px;
        }
    </style>
    <title>How Viruses Spread</title>
    <meta name="author" content="Ibrahim Suhail">
    <meta name="description" content="Exam #1 Part B">
</head>

<body>
    <h1 style="text-align: center; color: aqua; background-color: dodgerblue;">Ibrahim Suhail's Part B</h1>
    <p style="float:left">
        <label for="width">Width:</label>
        <input type="number" id="width" name="width" placeholder="width">
        <label for="height">Height:</label>
        <input type="number" id="height" name="height" placeholder="height">
        <label for="cm">Cure-Mode:</label>
        <input type="checkbox" name="cm" id="cm" unchecked>
    </p>

    <p style="float: left;">
        <input id="buildb" type="button" value="build" onclick="create()">
    </p>

    <table id="tab">

    </table>
</body>

</html>